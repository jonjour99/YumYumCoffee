<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/basic">
<link rel="stylesheet" th:href="${pageContext.request.contextPath}/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
	<th:block layout:fragment="title">
		<title>Yum로그인</title>
	</th:block>
    <th:block layout:fragment="header">
        <h6 class="display-6 fw-bolder">Login</h6>
        <p class="lead fw-normal text-white-50 mb-0"></p>
    </th:block>
    
<th:block layout:fragment="content">
<div class="card-content">
<form class="form-horizontal" id="frm" name="frm" th:action="@{/login}" method="post">
	<div class="mt-3 form-group">
		<div style="width:500px; margin:auto;">
			<label class="col-sm-2 font-bold">ID</label>
			<div class="mt-2 text-center">
				<input type="text" id="id" name="id" class="form-control" placeholder="아이디를 입력해 주세요." />
			</div>
		</div>
	</div>

	<div class="mt-3 form-group">
		<div style="width:500px; margin:auto;">
			<label class="col-sm-2 font-bold">PW</label>
			<div class="mt-2 text-center">
				<input type="password" id="pw" name="pw" class="form-control" placeholder="비밀번호를 입력해 주세요." autocomplete="off" />
			</div>
		</div>
	</div>
	
	<div class="btn_wrap text-center mt-4">
		<a th:href="@{/findId}">아이디 찾기</a>&nbsp; |&nbsp; 
		<a th:href="@{/findPw}">비밀번호 찾기</a>&nbsp; |&nbsp; 
		<a th:href="@{/register}">회원가입</a>
	</div>

	<div class="btn_wrap text-center mt-3">
		<a th:href="@{/home}" class="btn btn-dark waves-effect waves-light">뒤로가기</a>
		<button type="submit" id="btnLogin" name="btnLogin" class="btn btn-outline-dark waves-effect waves-light">로그인</button>
	</div>
	
</form>
</div>
</th:block>
		
<th:block layout:fragment="script">
	<script src='https://code.jquery.com/jquery-3.5.0.js'></script>
	<script th:inline="javascript">
	/*<![CDATA[ */
		
	let failID = /*[[${noID}]]*/null;
	let failPW = /*[[${failPW}]]*/null;
	console.log(failID);
	console.log(failPW);
	
	$(document)
	.ready(function(){
		loginCheck();
	})
	.on('submit', function() {
		if (emptyStr($('#id').val())) {
			alert("아이디가 비어있습니다.");
			return false;
			
		} else if (emptyStr($('#pw').val())) {
			
			alert("비밀번호가 비어있습니다.");
			return false;
		} 
	});
	/* function fnSubmit(){
		console.log("전송");
	} */
	function loginCheck(){
		
		if(failID != null) {
			console.log(failID);
			alert("존재하는 ID가 아닙니다.");
			
		} else if (failPW != null){
			console.log(failPW);
			alert("비밀번호가 맞지 않습니다.");
			
		};
	}
	function emptyStr(str) {
	    if (typeof str == "undefined" || str == null || str == "")
	        return true;
	}
	/*[- end of function -]*/

	/*]]>*/
	</script>
</th:block>
</html>